# TaskTimeStats

Утилита для формирования статистики по времени выполнения событий  за указанный промежуток времени.
Используется для построения графиков и аналитики по затраченным часам на задачи.

#### Использует

[StatsChartDTO](/app/DTO/Tasks/Stats/StatsChartDTO.md)

#### Методы

##### handle

```php
public static function handle(Collection|\Illuminate\Support\Collection $events, $rangeStart, $rangeEnd): StatsChartDTO
```

Вычисляет затраченного времени пользователями на задачи в зависимости от диапазона дат и возвращает объект для построения графика. Автоматический выбирает период (день, месяц, год) в зависимости от длины передаваемого диапазона. Для каждого периода считает количество завершенных пользователями событий, пересекающихся с данным промежутком.

Вход:

* `$events` — коллекция событий 
* `$rangeStart` — начало периода 
* `$rangeEnd` — конец периода 

Выход:

* `StatsChartDTO` — DTO для построения графика с двумя массивами
